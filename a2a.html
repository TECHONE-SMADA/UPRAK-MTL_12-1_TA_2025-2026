<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UJIAN A2</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

 <style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#fff;padding-bottom:200px}

body {
    background-image: url("img/quizz.png");
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center 1%; /* makin besar = makin turun */
    background-attachment: fixed;
}

/* HEADER */
header{
height:90px;
background:linear-gradient(135deg,#2a2e12,#e6d6b6);
display:flex;align-items:center;justify-content:space-between;
padding:0 40px;color:white;position:sticky;top:0;z-index:9999;
box-shadow:0 6px 20px rgba(0,0,0,.2);
}
header img{width:80px}

/* HERO */
.hero{
    padding-top:120px;
    display:flex;
    flex-direction:column;
    align-items:center;
}

/* card putih */
.hero h1{
    font-size:40px;
    font-weight:800;
    color:#495021;

    background:#ffffff;
    padding:20px 50px;
    border-radius:25px;

    margin-bottom:30px;

    box-shadow:
        0 12px 30px rgba(0,0,0,0.15);
}

/* MAIN */
.main{display:flex;gap:40px;width:90%;max-width:1200px}
.left{flex:2}
.soal{
    font-size:18px;
    margin-bottom:20px;

    /* CARD PUTIH */
    background:#ffffff;
    padding:25px 30px;
    border-radius:25px;

    box-shadow:
        0 12px 30px rgba(0,0,0,0.15);

    line-height:1.6;
}

/* OPTIONS */
.options{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:20px;
}

.options button{
    padding:15px;
    border:none;
    border-radius:40px;
    background:#495021;

    color:#ffffff;        /* ⬅️ PUTIH saat belum dijawab */
    font-weight:600;
    cursor:pointer;

    transition:0.25s;
}

.options button:hover{
    background:#5e6728;
}

/* saat dipilih */
.options button.active{
    background:#819133;
    color:#e6d6b6;        /* krem */
}

/* RIGHT */
.right{width:260px;display:flex;flex-direction:column;gap:20px}

/* EXIT CARD */
.exit-card{
background:linear-gradient(135deg,#495021,#e6d6b6);
border-radius:22px;padding:14px;
display:flex;flex-direction:column;align-items:center;
color:white;text-decoration:none;font-weight:600;
box-shadow:0 10px 25px rgba(0,0,0,.2);
}
.exit-card img{width:34px}

/* TIMER CARD */
.timer-card{
background:white;border-radius:26px;padding:22px 20px;
text-align:center;font-weight:700;color:#495021;
box-shadow:0 12px 30px rgba(0,0,0,0.18);
}
.timer-card span{font-size:32px;display:block;margin-top:6px}

/* GRID */
.number-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.number-grid div{
height:50px;border-radius:25px;
display:flex;align-items:center;justify-content:center;
background:linear-gradient(135deg,#495021,#e6d6b6);
cursor:pointer;font-weight:600;
}
.number-grid div.active{outline:3px solid #495021}
.number-grid div.done{background:#495021;color:#e6d6b6}

/* FOOTER */
.footer{
margin-top:30px;display:flex;gap:15px;
width:90%;max-width:700px
}
.footer button,.footer a{
flex:1;padding:15px;border-radius:40px;border:none;
background:linear-gradient(135deg,#495021);
color:white;font-weight:600;
cursor:pointer;text-align:center;text-decoration:none;
}
.footer a{display:none}

/* MODAL */
.modal{
position:fixed;inset:0;
background:rgba(0,0,0,.45);
display:none;align-items:center;justify-content:center;
z-index:99999;
}
.modal-card{
background:white;padding:30px;border-radius:30px;
text-align:center;width:90%;max-width:360px;
}
.modal-card h3{color:#495021;margin-bottom:10px}
.modal-card button{
margin-top:20px;padding:12px 30px;
border:none;border-radius:30px;
background:#495021;color:#e6d6b6;font-weight:600;
}
</style>
  </head>

  <body>
    <header>
      <img src="img/logo.png" />
      <p>DESIGNED BY TECHONE</p>
    </header>

    <section class="hero">
      <h1>UJIAN A2</h1>

      <div class="main">
        <div class="left">
          <div class="soal" id="soalText"></div>
          <div class="options" id="optionsBox"></div>
        </div>

        <div class="right">
          <a href="latihan.html" class="exit-card">
            <img src="img/exit.png" /><span>EXIT</span>
          </a>

          <div class="timer-card">
            SISA WAKTU
            <span id="timer">20:00</span>
          </div>

          <div class="number-grid" id="grid"></div>
        </div>
      </div>

      <div class="footer">
        <button onclick="prevSoal()">PREVIOUS</button>
        <button onclick="nextSoal()">NEXT</button>
        <button onclick="kumpulkanJawaban()">KUMPULKAN</button>
        <a href="hasil_ujian.html" id="hasilBtn">LIHAT HASIL</a>
      </div>
    </section>

    <div class="modal" id="modal">
      <div class="modal-card">
        <h3 id="modalTitle"></h3>
        <p id="modalText"></p>
        <button onclick="closeModal()">OK</button>
      </div>
    </div>

    <script>
      // ==============================
      const examKey = "a2a";
      localStorage.setItem("examKey", examKey);
      // ==============================

      const soalText = document.getElementById("soalText");
      const optionsBox = document.getElementById("optionsBox");
      const grid = document.getElementById("grid");
      const timerEl = document.getElementById("timer");
      const hasilBtn = document.getElementById("hasilBtn");
      const modal = document.getElementById("modal");
      const modalTitle = document.getElementById("modalTitle");
      const modalText = document.getElementById("modalText");

      let totalSoal = 10;
      let currentSoal = 0;
      let jawaban = new Array(totalSoal).fill(null);
      let sisaWaktu = 20 * 60;
      let sudahKumpul = false;
      let timerInterval;

      // ==============================
      // SOAL + OPSI (INDEX 0–4)
      // ==============================
      const soalArray = [
        {
          soal: "1. Diketahui fungsi f(x) = 6x³ + 12. Turunan pertama dari fungsi f(x) pada x = -2 adalah ...",
          opsi: ["Α. -36", "B. -18", "C. 18", "D. 24", "Ε. 72"],
          benar: 4,
        },
        {
          soal: "2.  Diketahui f(x) = 3x² + kx - 15. Jika f'(6) = 40, nilai k adalah ...",
          opsi: ["A. 2", "B. 4", "C. 6", "D. 8", "Ε. 10"],
          benar: 1,
        },
        {
          soal: '3. Diketahui f(x) = <img src="img/soal3 a2a.png" width="60px" style="border-radius:10px;">  dan f’(x) adalah turunan fungsi dari f(x). Hasil dari f’(x) adalah… ',
          opsi: [
            "A.) <img src='img/3A a2a.png' width='60px' style='border-radius:10px;'>",
            "B.)<img src='img/3B a2a.png' width='60px' style='border-radius:10px;'>",
            "C.)<img src='img/3C a2a.png' width='60px' style='border-radius:10px;'>",
            "D.) <img src='img/3D a2a.png' width='60px' style='border-radius:10px;'>",
            "E.) <img src='img/3E a2a.png' width='60px' style='border-radius:10px;'>",
          ],
          benar: 1,
        },
        {
          soal: "4. Turunan pertama dari fungsi <img src='img/soal4 a2a.png' width='150px' style='border-radius:10px;'> adalah y’ = …",
          opsi: [
            "A. <img src='img/4A A2A.png' width='100px' style='border-radius:10px;'>",
            "B. <img src='img/4B A2A.png' width='100px' style='border-radius:10px;'>",
            "C. <img src='img/4C A2A.png' width='100px' style='border-radius:10px;'>",
            "D. <img src='img/4D A2A.png' width='100px' style='border-radius:10px;'>",
            "E. <img src='img/4E A2A.png' width='100px' style='border-radius:10px;'>",
          ],
          benar: 0,
        },
        {
          soal: "5. Persamaan garis singgung kurva y= y= x^3 + 6x^2 − 5x +3 di titik (1,5) adalah…",
          opsi: [
            "A. 10x+y−5=0",
            "B. 10x+y+5=0",
            "C. 10x−y−5=0",
            "D. 10x−y+15=0",
            "E. 10x−y−15=0",
          ],
          benar: 2,
        },
        {
          soal: "6. Pada interval 4≤x≤6, grafik fungsi f(x) = 1/2x^4 − 6x^3 + 27x^2 − 54x akan …",
          opsi: [
            "A. Selalu naik",
            "B. selalu turun",
            "C. naik kemudian turun",
            "D. turun kemudian naik",
            "E. turun kemudian naik kemudian turun",
          ],
          benar: 0,
        },
        {
          soal: "7. Sebuah mobil bergerak untuk waktu tempuh t jam dengan jarak S(t) <img src='img/soal7 a2a.png' width='150px' style='border-radius:10px;'>. Kecepatan tertinggi mobil saat t = … jam .",
          opsi: ["A. 1", "B. 2", "C. 3", "D. 4", "E. 5"],
          benar: 3,
        },
        {
          soal: "8. Nilai minimum dari fungsi f(x) = 1/4(2x^3 − 3x^2 − 12x+ 7) pada interval −2≤x≤0 adalah…",
          opsi: ["A. -3,25", "B. -1,5", "C. 0,75", "D. 1,75", "E. 3,5"],
          benar: 2,
        },
        {
          soal: "9. Untuk memproduksi x barang diperlukan biaya sebesar (400x+10x^2) ribu rupiah, x≥0. Hasil penjualan x barang tersebut dinyatakan dengan (800x+500) ribu rupiah. Keuntungan maksimum yang diperoleh adalah…",
          opsi: [
            "A. Rp4.500.000,00",
            "B. Rp5.000.000,00",
            "C. Rp5.200.000,00",
            "D. Rp6.000.000,00",
            "E. Rp8.000.00,00",
          ],
          benar: 0,
        },
        {
          soal: "10. Diketahui keliling sebuah persegi panjang adalah (2x + 20) cm dan panjangnya (8 – x) cm. Agar luasnya mencapai maksimum, maka lebar persegi panjang tersebut adalah…",
          opsi: ["A. 10 cm", "B. 9 cm", "C. 4,5 cm", "D. 3,5 cm", "E. 3 cm"],
          benar: 1,
        },
      ];

      // GRID
      for (let i = 0; i < totalSoal; i++) {
        const d = document.createElement("div");
        d.innerText = i + 1;
        d.onclick = () => {
          currentSoal = i;
          renderSoal();
        };
        grid.appendChild(d);
      }

      // RENDER
      function renderSoal() {
        soalText.innerHTML = soalArray[currentSoal].soal;
        optionsBox.innerHTML = "";
        soalArray[currentSoal].opsi.forEach((opsi, i) => {
          const btn = document.createElement("button");
          btn.innerHTML = opsi;
          btn.onclick = () => selectOption(i);
          if (jawaban[currentSoal] === i) btn.classList.add("active");
          optionsBox.appendChild(btn);
        });
        document.querySelectorAll(".number-grid div").forEach((d, i) => {
          d.classList.toggle("active", i === currentSoal);
          d.classList.toggle("done", jawaban[i] !== null);
        });
      }

      function selectOption(i) {
        jawaban[currentSoal] = i;
        renderSoal();
      }

      function nextSoal() {
        if (currentSoal < totalSoal - 1) {
          currentSoal++;
          renderSoal();
        }
      }
      function prevSoal() {
        if (currentSoal > 0) {
          currentSoal--;
          renderSoal();
        }
      }

      function kumpulkanJawaban(auto = false) {
        if (sudahKumpul) return;
        if (!auto && jawaban.includes(null)) {
          showModal("Belum Selesai", "Semua soal wajib dijawab.");
          return;
        }
        sudahKumpul = true;
        clearInterval(timerInterval);
        localStorage.setItem(examKey + "_jawaban", JSON.stringify(jawaban));
        localStorage.setItem(examKey + "_soal", JSON.stringify(soalArray));
        localStorage.setItem(examKey + "_waktu", 20 * 60 - sisaWaktu);
        showModal("Berhasil", "Jawaban berhasil dikumpulkan.");
        hasilBtn.style.display = "block";
      }

      // TIMER
      timerInterval = setInterval(() => {
        if (sisaWaktu <= 0) {
          clearInterval(timerInterval);
          if (!sudahKumpul) kumpulkanJawaban(true);
          return;
        }
        sisaWaktu--;
        timerEl.innerText =
          String(Math.floor(sisaWaktu / 60)).padStart(2, "0") +
          ":" +
          String(sisaWaktu % 60).padStart(2, "0");
      }, 1000);

      function showModal(t, m) {
        modalTitle.innerText = t;
        modalText.innerText = m;
        modal.style.display = "flex";
      }
      function closeModal() {
        modal.style.display = "none";
      }

      renderSoal();
    </script>
  </body>
</html>
